@model SIAAPI.Models.Cfdi.VPagoFacturaProvEfe

@{
    ViewBag.Title = "DetailsEfe";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div>
    <h4>Pago de Facturas a un Proveedor</h4>
    <hr />
    <dl class="dl-horizontal">
        <dd>
            @Html.HiddenFor(model => model.IDPagoFacturaProv)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.SerieP)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.SerieP)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.FolioP)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FolioP)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Empresa)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.IDProveedor) |
            @Html.DisplayFor(model => model.Empresa)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.FechaPago)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.FechaPago)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.FormaPago)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ClaveFormaPago) | 
            @Html.DisplayFor(model => model.FormaPago)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Moneda) 

        </dt>

        <dd>
            @Html.DisplayFor(model => model.ClaveMoneda) | 
            @Html.DisplayFor(model => model.Moneda)
        </dd>

        

        <dt>
            @Html.DisplayNameFor(model => model.Monto)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Monto)
        </dd>

       

        <dt>
            @Html.DisplayNameFor(model => model.Observacion)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Observacion)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.UUID)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.UUID)
        </dd>
        <dt>
            
            @Html.DisplayNameFor(model => model.Estado)
        </dt>
        <dd>
           @if (Model.Estado == "C")
            {
               <p class="alert-danger">Cancelado</p>
           }
           else
           {
                <p class="alert-success">Activa</p>
           }
        </dd>

       

    </dl>
</div>

@if (@ViewBag.pagoFacturaSPEI != null)
{
    <div class="table-responsive">
        <table class="table table-responsive">
            <thead>
                <tr>
                    <h4>
                        Cadena de Pago SPEI
                    </h4>
                <tr>
                    <th>Certificado de Pago</th>
                    <th>Cadena Pago</th>
                    <th>Sello de Pago</th>
                </tr>
            </thead>

            @foreach (var item in ViewBag.pagoFacturaSPEI)
            {
                <tr>
                    <td>@item.CertificadoPago</td>
                    <td>@item.IDTipoCadenaPago </td>
                    <td>@item.SelloPago</td>
                </tr>
            }

        </table>
    </div>
}


@if (@ViewBag.detallesDR != null)
{
    <div class="table-responsive">
        <table class="table table-responsive">
            <thead>
                <tr>
                    <h4> Documentos Relacionados </h4>
                </tr>
                <tr>
                    <th>UUID</th>
                    <th>Serie</th>
                    <th>Numero</th>
                    <th>ImportePagado</th>
                    <th>ImporteSaldoInsoluto</th>
                    <th>NoParcialidad</th>
                    <th>Estado</th>
                </tr>
            </thead>

           @foreach (var item in ViewBag.detallesDR)
           {
                            <tr class="hidden">
                                <td style="display:none;">
                                <td>@item.IDProveedor</td>
                                <td>@item.Empresa</td>
                                <td>@item.ClaveFormaPago</td>
                                <td>@item.IDDocumentoRelacionadoProv</td>
                                <td>@item.FormaPago</td>

                       

                                
                            </tr>
          <tr>
              <td>@item.UUID</td>   
              <td>@item.Serie</td>
                    <td>@item.Numero</td>
                    @*<td>@item.Divisa</td>*@   
                    
                    <td>@string.Format("{0:C}", @item.ImportePagado)</td>
                    <td>@string.Format("{0:C}", @item.ImporteSaldoInsoluto)</td>
                    
                    <td>@item.NoParcialidad</td>

                    @*<td>@item.Estado</td>*@
              <td>
                  @if (item.Estado == "C")
                  {
                      <p class="alert-danger">Cancelado</p>
                  }
                  else
                  {
                      <p class="alert-success">Activa</p>
                  }
              </td>
                </tr>
            }

        </table>
    </div>
}
<p>
    @* @Html.ActionLink("Editar", "Edit", new { id = Model.IDPagoFactura }, new { @class = "btn btn-success btn-xs" })|*@
    @Html.ActionLink("Regresar a la lista", "IndexEfe", null, new { @class = "btn btn-default btn-xs" })
    @*@Html.ActionLink("Generar Reporte", "CreaReporteDetalles", new { id = Model.IDPagoFacturaProv }, new { @class = "btn btn-info btn-xs" })*@




</p>
