@model List<SIAAPI.Models.Produccion.VArticulosProduccion>

@{
    ViewBag.Title = "FinalizaProcesoB";
    Layout = "~/Views/Shared/_LayoutBitacora.cshtml";
}

@using (Html.BeginForm("FinalizaProcesoB", "Bitacora", FormMethod.Post, new { enctype = "multipart/form-data" }))
{

    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <h3>Finalizar Lote de Trabajo</h3>
        <hr />
        @Html.ValidationSummary(true, "", new { @class = "hide" })

        <input type="hidden" name="Terminarproceso" id="Terminarproceso" value="@ViewBag.Terminarproceso" class="form-control" />

        <div class="form-group">
            @Html.Label("Fecha de Fin", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-8">
                <input type="text" name="FechaFin" id="FechaFin" value="@ViewBag.horafecha" class="form-control" />
            </div>
        </div>
        <div class="form-group">
            @Html.Label("Cantidad", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-8">
                <input type="text" name="Cantidad" id="Cantidad" class="form-control" />
            </div>
        </div>
        <div class="form-group">
            @Html.Label("Unidad", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-8">
                @Html.DropDownList("IDClaveUnidad", null, htmlAttributes: new { @class = "form-control" })
            </div>
        </div>
        <div class="form-group">
            @Html.Label("Observación", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-8">
                <input type="text" name="Observacion" id="Observacion" class="form-control" />

            </div>

        </div>

        <div class="form-group">
            @Html.Label("Imagen de Producto realizado", htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-8">
                <input type="file" name="files1" id="files1" style="color:White">

            </div>

        </div>
        <input type="hidden" name="id" id="id" value="@ViewBag.id" />

        @*<h4>Materiales Utilizados</h4>


            <div class="table-responsive" id="actualiza">
                <table class="table" width="50">
                    <thead>
                        <tr>
                            <th></th>
                            <th></th>
                            <th>Artículo</th>
                            <th>Tipo de Artículo</th>
                            <th>Característica</th>
                            <th>Proceso</th>
                            <th>Cantidad</th>
                            <th>Unidad</th>
                            <th>Costo Planeado</th>
                            <th>Costo Real</th>
                            <th>Indicaciones</th>
                            <th></th>
                        </tr>
                    </thead>
                    @{
                        int j = 0;
                        foreach (var i in Model)
                        {
                            <tr>
                                @Html.TextBoxFor(a => a[j].IDArtProd, new { @class = "form-control", @Value = i.IDArtProd, @type = "hidden" })
                                @Html.TextBoxFor(a => a[j].IDClaveUnidad, new { @class = "form-control", @Value = i.IDClaveUnidad, @type = "hidden" })
                                <td></td>
                                <td></td>
                                <td>@Html.DisplayFor(modelItem => i.Articulo) </td>
                                <td>@Html.DisplayFor(modelItem => i.TipoArticulo)</td>
                                <td>@Html.DisplayFor(modelItem => i.Caracteristica)</td>
                                <td>@Html.DisplayFor(modelItem => i.Proceso)</td>
                                <td>@Html.TextBoxFor(a => a[j].Cantidad, new { @class = "form-control", @Value = i.Cantidad})</td>
                                <td>@Html.DisplayFor(modelItem => i.Unidad)</td>
                                <td> @String.Format("{0:C}", i.CostoPlaneado) </td>
                                <td> @String.Format("{0:C}", i.CostoReal) </td>
                                <td>@Html.DisplayFor(modelItem => i.Indicaciones)</td>
                                <td>@Html.CheckBoxFor(a => a[j].Existe)</td>

                            </tr>
                            j++;
                        }
                    }
                </table>
            </div>*@



        <div class="form-group">

            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Grabar" class="btn btn-success btn-xs" /> | @Html.ActionLink("Regresar a la lista", "Index", null, new { @class = "btn btn-default btn-xs" })
            </div>
        </div>
    </div>
}


